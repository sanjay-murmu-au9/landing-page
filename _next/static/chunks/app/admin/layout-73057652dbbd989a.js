(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{999:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var s=n(2115),i=n(5695);function r(){let e=(0,i.useRouter)(),[t,n]=(0,s.useState)(!1),[r,a]=(0,s.useState)(!0),u=()=>{var e;return!!(null==(e=document.cookie.split(";").find(e=>e.trim().startsWith("admin_token=")))?void 0:e.split("=")[1])};return(0,s.useEffect)(()=>{let t=()=>{let t=u();n(t),t||e.push("/admin/login"),a(!1)};t();let s=()=>{"visible"===document.visibilityState&&t()};return window.addEventListener("focus",t),document.addEventListener("visibilitychange",s),()=>{window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",s)}},[e]),{isAuthenticated:t,loading:r,logout:()=>{document.cookie="admin_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",n(!1),e.push("/admin/login")},checkAuth:u}}},5695:(e,t,n)=>{"use strict";var s=n(8999);n.o(s,"usePathname")&&n.d(t,{usePathname:function(){return s.usePathname}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})},6093:()=>{},6436:(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var s=n(5155),i=n(2115),r=n(5695),a=n(999);function u(e){let{children:t}=e,{isAuthenticated:n,loading:u,checkAuth:o}=(0,a.A)(),d=(0,r.useRouter)(),l=(0,r.usePathname)(),[c,m]=(0,i.useState)(!1),h="/admin/login"===l;return((0,i.useEffect)(()=>{m(!0),!h&&(u||n||h||d.push("/admin/login"))},[n,u,d,h]),c)?h||n?(0,s.jsx)(s.Fragment,{children:t}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Verifying authentication..."}),(0,s.jsx)("p",{className:"text-gray-500 mt-2",children:"Please wait while we verify your credentials"})]})}):null}},8107:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,6093,23)),Promise.resolve().then(n.bind(n,6436))}},e=>{var t=t=>e(e.s=t);e.O(0,[956,441,303,358],()=>t(8107)),_N_E=e.O()}]);