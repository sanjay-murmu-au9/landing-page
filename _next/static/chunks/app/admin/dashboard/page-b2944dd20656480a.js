(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{279:(e,t,s)=>{Promise.resolve().then(s.bind(s,1502))},999:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(2115),a=s(5695);function l(){let e=(0,a.useRouter)(),[t,s]=(0,r.useState)(!1),[l,n]=(0,r.useState)(!0),i=()=>{var e;return!!(null==(e=document.cookie.split(";").find(e=>e.trim().startsWith("admin_token=")))?void 0:e.split("=")[1])};return(0,r.useEffect)(()=>{let t=()=>{let t=i();s(t),t||e.push("/admin/login"),n(!1)};t();let r=()=>{"visible"===document.visibilityState&&t()};return window.addEventListener("focus",t),document.addEventListener("visibilitychange",r),()=>{window.removeEventListener("focus",t),document.removeEventListener("visibilitychange",r)}},[e]),{isAuthenticated:t,loading:l,logout:()=>{document.cookie="admin_token=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT",s(!1),e.push("/admin/login")},checkAuth:i}}},1502:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),a=s(2115),l=s(5695),n=s(3464),i=s(351),o=s(999);function d(){(0,l.useRouter)();let{isAuthenticated:e,loading:t,logout:s}=(0,o.A)(),[d,c]=(0,a.useState)([]),[m,x]=(0,a.useState)(0),[u,h]=(0,a.useState)(!0),[g,p]=(0,a.useState)(""),[f,y]=(0,a.useState)(null),[j,N]=(0,a.useState)({}),[b,v]=(0,a.useState)(!1),[w,k]=(0,a.useState)(null),[C,L]=(0,a.useState)(null),[S,I]=(0,a.useState)(null),O=[{_id:"1",fullName:"John Doe",email:"john@example.com",phone:"+1234567890",message:"Interested in a property tour for Prestige Somerville. I'm looking for a 3BHK with lake view.",createdAt:"2025-06-28T10:30:00.000Z",propertyInterest:"High",budget:"Rs.800,000-Rs.1,000,000",callStatus:"Called",callNotes:"Scheduled property tour for July 5th. Very interested in premium floor plans.",preferredLocation:"Lakefront facing"},{_id:"2",fullName:"Jane Smith",email:"jane@example.com",phone:"+0987654321",message:"Looking for investment opportunities in Prestige Somerville.",createdAt:"2025-06-29T14:15:00.000Z",propertyInterest:"Medium",budget:"Rs.500,000-Rs.700,000",callStatus:"Not Called",callNotes:"",preferredLocation:"City view"},{_id:"3",fullName:"Michael Johnson",email:"michael@example.com",phone:"+1122334455",message:"Interested in 3BHK apartments with modern amenities.",createdAt:"2025-06-25T09:45:00.000Z",propertyInterest:"High",budget:"Rs.1,000,000+",callStatus:"Called",callNotes:"Very interested, requested floor plans.",preferredLocation:"Corner unit"},{_id:"4",fullName:"Sarah Williams",email:"sarah@example.com",phone:"+5544332211",message:"Looking for information about amenities and security features.",createdAt:"2025-06-27T16:20:00.000Z",propertyInterest:"Low",budget:"Not disclosed",callStatus:"Called",callNotes:"Just gathering information, not ready to buy yet.",preferredLocation:"Not specific"},{_id:"5",fullName:"Robert Brown",email:"robert@example.com",phone:"+9988776655",message:"Interested in payment plans and financing options.",createdAt:"2025-06-30T08:10:00.000Z",propertyInterest:"High",budget:"Rs.600,000-Rs.900,000",callStatus:"Not Called",callNotes:"",preferredLocation:"Pool view"}];(0,a.useEffect)(()=>{!t&&e&&P()},[t,e]);let P=async()=>{h(!0),I(null);try{let e=await n.A.get("https://api.lutui.in/tp/hods");e.data.success?(c(e.data.data.users),x(e.data.data.totalUsers),I({type:"success",message:"User data successfully loaded"})):(I({type:"error",message:"Failed to fetch users: "+(e.data.message||"Unknown error")}),c(O),x(O.length))}catch(s){var e,t;console.error("Error fetching users:",s),I({type:"error",message:"Failed to fetch users: "+((null==(t=s.response)||null==(e=t.data)?void 0:e.message)||s.message||"Unknown error")}),c(O),x(O.length)}finally{h(!1)}},E=e=>{L(e),N({propertyInterest:e.propertyInterest,budget:e.budget,callStatus:e.callStatus,callNotes:e.callNotes,preferredLocation:e.preferredLocation})},R=()=>{y(null),L(null),N({})},A=e=>{let{name:t,value:s}=e.target;N(e=>({...e,[t]:s}))},M=async e=>{v(!0),I(null);try{let t=await n.A.put("https://api.lutui.in/tp/hod/".concat(e),j);t.data.success?(c(d.map(t=>t._id===e?{...t,...j}:t)),y(null),L(null),N({}),I({type:"success",message:"User information successfully updated"})):(console.error("API Error:",t.data.message||"Failed to update user"),I({type:"error",message:"Failed to update user: "+(t.data.message||"Unknown error")}))}catch(e){var t,s;console.error("Error updating user:",e),I({type:"error",message:"Failed to update user: "+((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||e.message||"Unknown error")})}finally{v(!1)}},_=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=async e=>{k(e);try{let t=await U(e._id);t&&k(t)}catch(e){console.error("Error fetching latest user data:",e)}},D=()=>{k(null)},U=async e=>{try{let t=await n.A.get("https://api.lutui.in/tp/hod/".concat(e));if(t.data.success)return t.data.data.user;return console.error("Failed to get user details"),null}catch(e){return console.error("Error getting user details:",e),null}},B=async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone.")){h(!0),I(null);try{let t=await n.A.delete("https://api.lutui.in/tp/hod/".concat(e));t.data.success?(c(d.filter(t=>t._id!==e)),x(e=>e-1),I({type:"success",message:"User successfully deleted"})):(console.error("API Error:",t.data.message||"Failed to delete user"),I({type:"error",message:"Failed to delete user: "+(t.data.message||"Unknown error")}))}catch(e){var t,s;console.error("Error deleting user:",e),I({type:"error",message:"Failed to delete user: "+((null==(s=e.response)||null==(t=s.data)?void 0:t.message)||e.message||"Unknown error")})}finally{h(!1)}}};return t?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto mb-4"}),(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Verifying authentication..."}),(0,r.jsx)("p",{className:"text-gray-500 mt-2",children:"Please wait while we verify your credentials"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)("header",{className:"bg-white shadow",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Prestige Somerville Admin Dashboard"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Manage property leads and customer interactions"})]}),(0,r.jsxs)("button",{onClick:()=>{s()},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[(0,r.jsx)(i.QeK,{className:"mr-2"})," Logout"]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[S&&(0,r.jsx)("div",{className:"mb-6 p-4 rounded-md ".concat("success"===S.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:"success"===S.type?(0,r.jsx)("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm font-medium",children:S.message})}),(0,r.jsx)("div",{className:"ml-auto pl-3",children:(0,r.jsx)("div",{className:"-mx-1.5 -my-1.5",children:(0,r.jsxs)("button",{type:"button",onClick:()=>I(null),className:"inline-flex rounded-md p-1.5 ".concat("success"===S.type?"text-green-500 hover:bg-green-100":"text-red-500 hover:bg-red-100"),children:[(0,r.jsx)("span",{className:"sr-only",children:"Dismiss"}),(0,r.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5 mb-6",children:[(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,r.jsx)(i.cfS,{className:"h-6 w-6 text-white"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Leads"}),(0,r.jsx)("dd",{className:"text-3xl font-semibold text-gray-900",children:m})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,r.jsx)(i.wIk,{className:"h-6 w-6 text-white"})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Latest Registration"}),(0,r.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:d.length>0?_(d[0].createdAt):"No leads yet"})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"High Interest"}),(0,r.jsx)("dd",{className:"text-3xl font-semibold text-gray-900",children:d.filter(e=>"High"===e.propertyInterest).length})]})})]})})}),(0,r.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,r.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),(0,r.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Recent Contacts"}),(0,r.jsx)("dd",{className:"text-3xl font-semibold text-gray-900",children:(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-7),d.filter(e=>"Called"===e.callStatus&&new Date(e.createdAt)>t).length})()})]})})]})})})]}),(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Registered Users"}),(0,r.jsxs)("button",{onClick:P,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)(i.jTZ,{className:"mr-2"}),"Refresh"]})]}),u?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("div",{className:"spinner-border animate-spin inline-block w-8 h-8 border-4 border-t-indigo-500 border-r-transparent border-b-indigo-500 border-l-transparent rounded-full",role:"status",children:(0,r.jsx)("span",{className:"sr-only",children:"Loading..."})}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading users..."})]}):g?(0,r.jsxs)("div",{className:"text-center py-10",children:[(0,r.jsx)("p",{className:"text-red-500",children:g}),(0,r.jsx)("button",{onClick:P,className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Try Again"})]}):0===d.length?(0,r.jsx)("div",{className:"text-center py-10",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No users have registered yet."})}):(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Registration"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Property Interest"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Call Status"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Budget"}),(0,r.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(e=>(0,r.jsxs)("tr",{className:f===e._id?"bg-gray-50":"",children:[(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.fullName}),f===e._id&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Call Notes"}),(0,r.jsx)("textarea",{name:"callNotes",value:j.callNotes||"",onChange:A,rows:3,className:"text-sm rounded border border-gray-300 w-full text-gray-900 px-3 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white",placeholder:"Add notes about the call..."})]})]}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm text-gray-500",children:_(e.createdAt)})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f===e._id?(0,r.jsxs)("select",{name:"propertyInterest",value:j.propertyInterest||"",onChange:A,className:"text-sm rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"High",children:"High"}),(0,r.jsx)("option",{value:"Medium",children:"Medium"}),(0,r.jsx)("option",{value:"Low",children:"Low"})]}):(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\n                            ".concat("High"===e.propertyInterest?"bg-green-100 text-green-800":"Medium"===e.propertyInterest?"bg-yellow-100 text-yellow-800":"Low"===e.propertyInterest?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.propertyInterest||"Not set"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f===e._id?(0,r.jsxs)("select",{name:"callStatus",value:j.callStatus||"",onChange:A,className:"text-sm rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"Called",children:"Called"}),(0,r.jsx)("option",{value:"Not Called",children:"Not Called"}),(0,r.jsx)("option",{value:"Follow Up Required",children:"Follow Up Required"})]}):(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\n                            ".concat("Called"===e.callStatus?"bg-green-100 text-green-800":"Follow Up Required"===e.callStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.callStatus||"Not set"})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f===e._id?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",name:"budget",value:j.budget||"",onChange:A,className:"text-sm rounded border border-gray-300 text-gray-900 py-2 px-3 w-full bg-white",placeholder:"Budget range"}),(0,r.jsx)("input",{type:"text",name:"preferredLocation",value:j.preferredLocation||"",onChange:A,className:"text-sm rounded border border-gray-300 text-gray-900 py-2 px-3 w-full bg-white",placeholder:"Preferred location"})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.budget||"Not set"}),e.preferredLocation&&(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Location: ",e.preferredLocation]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("button",{onClick:()=>E(e),className:"text-indigo-600 hover:text-indigo-900",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>F(e),className:"text-blue-600 hover:text-blue-900",children:"View"}),(0,r.jsx)("button",{onClick:()=>B(e._id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})})]},e._id))})]})})]}),w&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Lead Details"}),(0,r.jsx)("button",{onClick:D,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,r.jsx)("p",{className:"mt-1",children:w.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,r.jsx)("p",{className:"mt-1",children:w.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,r.jsx)("p",{className:"mt-1",children:w.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Registration Date"}),(0,r.jsx)("p",{className:"mt-1",children:_(w.createdAt)})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Property Preferences"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Interest Level"}),(0,r.jsx)("p",{className:"mt-1",children:(0,r.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full\n                              ".concat("High"===w.propertyInterest?"bg-green-100 text-green-800":"Medium"===w.propertyInterest?"bg-yellow-100 text-yellow-800":"Low"===w.propertyInterest?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:w.propertyInterest||"Not set"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Budget Range"}),(0,r.jsx)("p",{className:"mt-1",children:w.budget||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Preferred Location"}),(0,r.jsx)("p",{className:"mt-1",children:w.preferredLocation||"Not specified"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Call Status"}),(0,r.jsx)("p",{className:"mt-1",children:(0,r.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full\n                              ".concat("Called"===w.callStatus?"bg-green-100 text-green-800":"Follow Up Required"===w.callStatus?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:w.callStatus||"Not contacted"})})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Message from Lead"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.message||"No message provided"})})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Call Notes"}),(0,r.jsx)("div",{className:"bg-gray-50 p-4 rounded-md",children:(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:w.callNotes||"No call notes yet"})})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-between",children:[(0,r.jsxs)("button",{onClick:()=>{E(w),D()},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,r.jsx)("svg",{className:"mr-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Edit Lead"]}),(0,r.jsx)("button",{onClick:D,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Close"})]})]})]})})}),C&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-gray-500 bg-opacity-75 flex items-center justify-center",children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Edit Lead"}),(0,r.jsx)("button",{onClick:R,className:"text-gray-500 hover:text-gray-700 focus:outline-none",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),(0,r.jsx)("p",{className:"mt-1",children:C.fullName})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,r.jsx)("p",{className:"mt-1",children:C.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,r.jsx)("p",{className:"mt-1",children:C.phone})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Registration Date"}),(0,r.jsx)("p",{className:"mt-1",children:_(C.createdAt)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Message"}),(0,r.jsx)("p",{className:"mt-1 text-gray-700 whitespace-pre-wrap",children:C.message||"No message provided"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Edit Lead Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interest Level"}),(0,r.jsxs)("select",{name:"propertyInterest",value:j.propertyInterest||"",onChange:A,className:"w-full rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"High",children:"High"}),(0,r.jsx)("option",{value:"Medium",children:"Medium"}),(0,r.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Budget Range"}),(0,r.jsx)("input",{type:"text",name:"budget",value:j.budget||"",onChange:A,className:"w-full rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Budget range"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Location"}),(0,r.jsx)("input",{type:"text",name:"preferredLocation",value:j.preferredLocation||"",onChange:A,className:"w-full rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Preferred location"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call Status"}),(0,r.jsxs)("select",{name:"callStatus",value:j.callStatus||"",onChange:A,className:"w-full rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"Select"}),(0,r.jsx)("option",{value:"Called",children:"Called"}),(0,r.jsx)("option",{value:"Not Called",children:"Not Called"}),(0,r.jsx)("option",{value:"Follow Up Required",children:"Follow Up Required"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Call Notes"}),(0,r.jsx)("textarea",{name:"callNotes",value:j.callNotes||"",onChange:A,rows:5,className:"w-full rounded border border-gray-300 text-gray-900 py-2 px-3 bg-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add notes about the call..."})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-8 flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:R,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>M(C._id),disabled:b,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:b?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Saving..."]}):(0,r.jsx)(r.Fragment,{children:"Save Changes"})})]})]})]})})})]})]})}},4436:(e,t,s)=>{"use strict";s.d(t,{k5:()=>c});var r=s(2115),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.createContext&&r.createContext(a),n=["attr","size","title"];function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function d(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach(function(t){var r,a,l;r=e,a=t,l=s[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function c(e){return t=>r.createElement(m,i({attr:d({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.createElement(t.tag,d({key:s},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var s,{attr:a,size:l,title:o}=e,c=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,n),m=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,c,{className:s,style:d(d({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==l?r.createElement(l.Consumer,null,e=>t(e)):t(a)}}},e=>{var t=t=>e(e.s=t);e.O(0,[844,794,441,303,358],()=>t(279)),_N_E=e.O()}]);