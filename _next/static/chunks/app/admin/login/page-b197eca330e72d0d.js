(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{3727:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var r=a(5155),t=a(2115),n=a(5695),d=a(6874),i=a.n(d),o=a(3464);function l(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("callbackUrl")||"/admin/dashboard",[a,d]=(0,t.useState)({username:"",password:""}),[l,u]=(0,t.useState)(""),[c,m]=(0,t.useState)(!1),g=e=>{let{name:s,value:a}=e.target;d(e=>({...e,[s]:a}))},x=async r=>{r.preventDefault(),m(!0),u("");try{let r=await o.A.post("/api/auth/login",{username:a.username,password:a.password});r.data.success?(document.cookie="admin_token=".concat(r.data.token,"; path=/; max-age=86400; SameSite=Strict"),e.push(s)):u(r.data.message||"Login failed")}catch(e){var t,n;u((null==(n=e.response)||null==(t=n.data)?void 0:t.message)||"An error occurred during login")}finally{m(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Admin Login"}),l&&(0,r.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,r.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,r.jsx)("input",{id:"username",name:"username",type:"text",value:a.username,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md !text-gray-900 !bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",value:a.password,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md !text-gray-900 !bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300",children:c?"Logging in...":"Login"})})]}),(0,r.jsx)("div",{className:"mt-4 text-center",children:(0,r.jsx)(i(),{href:"/",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Return to Homepage"})})]})})}},7260:(e,s,a)=>{Promise.resolve().then(a.bind(a,3727))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,794,441,303,358],()=>s(7260)),_N_E=e.O()}]);