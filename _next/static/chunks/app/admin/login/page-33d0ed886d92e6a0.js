(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{3727:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5155),r=t(2115),n=t(5695),i=t(6874),d=t.n(i),o=t(3464);function l(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("callbackUrl")||"/admin/dashboard",[t,i]=(0,r.useState)({username:"",password:""}),[l,u]=(0,r.useState)(""),[c,m]=(0,r.useState)(!1),g=e=>{let{name:s,value:t}=e.target;i(e=>({...e,[s]:t}))},x=async a=>{a.preventDefault(),m(!0),u("");try{let a=await o.A.post("https://api.lutui.in/tp/auth/login",t);a.data.success?(document.cookie="admin_token=".concat(a.data.token,"; path=/; max-age=86400; SameSite=Strict"),e.push(s)):u(a.data.message||"Login failed")}catch(e){var r,n;u((null==(n=e.response)||null==(r=n.data)?void 0:r.message)||"An error occurred during login")}finally{m(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-center text-gray-800 mb-6",children:"Admin Login"}),l&&(0,a.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),(0,a.jsx)("input",{id:"username",name:"username",type:"text",value:t.username,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md !text-gray-900 !bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",value:t.password,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md !text-gray-900 !bg-white focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-indigo-300",children:c?"Logging in...":"Login"})})]}),(0,a.jsx)("div",{className:"mt-4 text-center",children:(0,a.jsx)(d(),{href:"/",className:"text-sm text-indigo-600 hover:text-indigo-800",children:"Return to Homepage"})})]})})}},7260:(e,s,t)=>{Promise.resolve().then(t.bind(t,3727))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,794,441,303,358],()=>s(7260)),_N_E=e.O()}]);