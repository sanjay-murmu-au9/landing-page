"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{7555:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return P}});let r=n(8229),l=n(6966),o=n(5155),u=n(9818),a=l._(n(2115)),i=r._(n(7650)),c=n(5227),s=n(8586),d=n(1822),f=n(6614),h=n(1127),p=n(4189),g=n(686),y=n(6975),m=n(5637),R=n(4108),_=n(1027),b=i.default.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=["bottom","height","left","right","top","width","x","y"];function x(e,t){let n=e.getBoundingClientRect();return n.top>=0&&n.top<=t}class C extends a.default.Component{componentDidMount(){this.handlePotentialScroll()}componentDidUpdate(){this.props.focusAndScrollRef.apply&&this.handlePotentialScroll()}render(){return this.props.children}constructor(...e){super(...e),this.handlePotentialScroll=()=>{let{focusAndScrollRef:e,segmentPath:t}=this.props;if(e.apply){if(0!==e.segmentPaths.length&&!e.segmentPaths.some(e=>t.every((t,n)=>(0,h.matchSegment)(t,e[n]))))return;let n=null,r=e.hashFragment;if(r&&(n=function(e){var t;return"top"===e?document.body:null!=(t=document.getElementById(e))?t:document.getElementsByName(e)[0]}(r)),n||(n=(0,b.findDOMNode)(this)),!(n instanceof Element))return;for(;!(n instanceof HTMLElement)||function(e){if(["sticky","fixed"].includes(getComputedStyle(e).position))return!0;let t=e.getBoundingClientRect();return E.every(e=>0===t[e])}(n);){if(null===n.nextElementSibling)return;n=n.nextElementSibling}e.apply=!1,e.hashFragment=null,e.segmentPaths=[],(0,p.handleSmoothScroll)(()=>{if(r)return void n.scrollIntoView();let e=document.documentElement,t=e.clientHeight;!x(n,t)&&(e.scrollTop=0,x(n,t)||n.scrollIntoView())},{dontForceLayout:!0,onlyHashChange:e.onlyHashChange}),e.onlyHashChange=!1,n.focus()}}}}function S(e){let{segmentPath:t,children:n}=e,r=(0,a.useContext)(c.GlobalLayoutRouterContext);if(!r)throw Object.defineProperty(Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:!1,configurable:!0});return(0,o.jsx)(C,{segmentPath:t,focusAndScrollRef:r.focusAndScrollRef,children:n})}function v(e){let{tree:t,segmentPath:n,cacheNode:r,url:l}=e,i=(0,a.useContext)(c.GlobalLayoutRouterContext);if(!i)throw Object.defineProperty(Error("invariant global layout router not mounted"),"__NEXT_ERROR_CODE",{value:"E473",enumerable:!1,configurable:!0});let{tree:f}=i,p=null!==r.prefetchRsc?r.prefetchRsc:r.rsc,g=(0,a.useDeferredValue)(r.rsc,p),y="object"==typeof g&&null!==g&&"function"==typeof g.then?(0,a.use)(g):g;if(!y){let e=r.lazyData;if(null===e){let t=function e(t,n){if(t){let[r,l]=t,o=2===t.length;if((0,h.matchSegment)(n[0],r)&&n[1].hasOwnProperty(l)){if(o){let t=e(void 0,n[1][l]);return[n[0],{...n[1],[l]:[t[0],t[1],t[2],"refetch"]}]}return[n[0],{...n[1],[l]:e(t.slice(2),n[1][l])}]}}return n}(["",...n],f),o=(0,R.hasInterceptionRouteInCurrentTree)(f),c=Date.now();r.lazyData=e=(0,s.fetchServerResponse)(new URL(l,location.origin),{flightRouterState:t,nextUrl:o?i.nextUrl:null}).then(e=>((0,a.startTransition)(()=>{(0,_.dispatchAppRouterAction)({type:u.ACTION_SERVER_PATCH,previousTree:f,serverResponse:e,navigatedAt:c})}),e)),(0,a.use)(e)}(0,a.use)(d.unresolvedThenable)}return(0,o.jsx)(c.LayoutRouterContext.Provider,{value:{parentTree:t,parentCacheNode:r,parentSegmentPath:n,url:l},children:y})}function j(e){let t,{loading:n,children:r}=e;if(t="object"==typeof n&&null!==n&&"function"==typeof n.then?(0,a.use)(n):n){let e=t[0],n=t[1],l=t[2];return(0,o.jsx)(a.Suspense,{fallback:(0,o.jsxs)(o.Fragment,{children:[n,l,e]}),children:r})}return(0,o.jsx)(o.Fragment,{children:r})}function P(e){let{parallelRouterKey:t,error:n,errorStyles:r,errorScripts:l,templateStyles:u,templateScripts:i,template:s,notFound:d,forbidden:h,unauthorized:p}=e,R=(0,a.useContext)(c.LayoutRouterContext);if(!R)throw Object.defineProperty(Error("invariant expected layout router to be mounted"),"__NEXT_ERROR_CODE",{value:"E56",enumerable:!1,configurable:!0});let{parentTree:_,parentCacheNode:b,parentSegmentPath:E,url:x}=R,C=b.parallelRoutes,P=C.get(t);P||(P=new Map,C.set(t,P));let O=_[0],T=_[1][t],N=T[0],D=null===E?[t]:E.concat([O,t]),w=(0,m.createRouterCacheKey)(N),A=(0,m.createRouterCacheKey)(N,!0),H=P.get(w);if(void 0===H){let e={lazyData:null,rsc:null,prefetchRsc:null,head:null,prefetchHead:null,parallelRoutes:new Map,loading:null,navigatedAt:-1};H=e,P.set(w,e)}let M=b.loading;return(0,o.jsxs)(c.TemplateContext.Provider,{value:(0,o.jsx)(S,{segmentPath:D,children:(0,o.jsx)(f.ErrorBoundary,{errorComponent:n,errorStyles:r,errorScripts:l,children:(0,o.jsx)(j,{loading:M,children:(0,o.jsx)(y.HTTPAccessFallbackBoundary,{notFound:d,forbidden:h,unauthorized:p,children:(0,o.jsx)(g.RedirectBoundary,{children:(0,o.jsx)(v,{url:x,tree:T,cacheNode:H,segmentPath:D})})})})})}),children:[u,i,s]},A)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)}}]);